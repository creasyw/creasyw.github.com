
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>virtual function and template in C++ - Qiong Wu</title>
  <meta name="author" content="Qiong Wu">

  
  <meta name="description" content="Object-oriented programming is based on three fundamental concepts: data abstraction, inheritance, and dynamic binding. In C++ we use classes for &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://creasyw.github.io/blog/2011/03/29/virtual-function-and-template-in-c/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="./atom.xml" rel="alternate" title="Qiong Wu" type="application/atom+xml">
  
  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  
  
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Qiong Wu</a></h1>
  <!--
  
    <h2>A blogging framework for hackers.</h2>
  
  -->
</hgroup>
</header>
  <nav role="navigation"><!--
<ul class="subscription" data-subscription="rss">
  <li><a href="./atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:creasyw.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

-->

<ul class="main-navigation">
  <!--<li><a class="yellow" href="/">Hello</a></li>-->
  <li><a class="github" href="/blog/archives/">Blog</a></li>
  <li><a class="github" href="/tags">Tags</a></li>
  <li><a class="github" href="http://www.github.com/creasyw">Github</a></li>
  <li><a class="github" href="https://twitter.com/creasywuqiong">Twitter</a></li>
  <li><a class="github" href="/rss">RSS</a></li>
</ul>


</nav>
  <div id="main">
    <div id="content">
      <article>
  <header>
    
      <h1 class="entry-title">Virtual Function and Template in C++</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-29T00:00:00-04:00" pubdate data-updated="true">Mar 29<span>th</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
Object-oriented programming is based on three fundamental concepts:  data abstraction, inheritance, and dynamic binding. In C++ we use  classes for data abstraction and class derivation to inherit one class  from another: A derived class inherits the members of its base  class(es). Dynamic binding lets the compiler determine at run time  whether to use a function defined in the base or derived class.<br /><br />Inheritance  and dynamic binding streamline our programs in two ways: They make it  easier to define new classes that are similar, but not identical, to  other classes, and they make it easier for us to write programs that can  ignore the details of how those similar types differ.<br /><br />By  default, function calls in C++ do not use dynamic binding. To trigger  dynamic binding, two conditions must be met: First, only member  functions that are specified as virtual can be dynamically bound. By  default, member functions are not virtual; nonvirtual functions are not  dynamically bound. Second, the call must be made through a reference or a  pointer to a base-class type.<br /><br />In <a href="http://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented programming</a>, a <b>virtual function</b> or <b>virtual method</b> is a <a class="mw-redirect" href="http://en.wikipedia.org/wiki/Function_%28computer_science%29" title="Function (computer science)">function</a> or <a class="mw-redirect" href="http://en.wikipedia.org/wiki/Method_%28computer_science%29" title="Method (computer science)">method</a> whose behaviour can be <a class="mw-redirect" href="http://en.wikipedia.org/wiki/Method_overriding_%28programming%29" title="Method overriding (programming)">overridden</a> within an inheriting class by a function with the same <a href="http://en.wikipedia.org/wiki/Method_signature" title="Method signature">signature</a>. This concept is a very important part of the <a href="http://en.wikipedia.org/wiki/Polymorphism_%28computer_science%29" title="Polymorphism (computer science)">polymorphism</a> portion of <a href="http://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented programming</a> (OOP). <a href="http://en.wikipedia.org/wiki/Virtual_function">(Wikipage</a>)<br /><br />Virtual functions overcome the problems with the type-field solution by  allowing the programmer to declare functions in a base class that can be  redefined in each derived class. The distinction between virtual and non-virtual resolves this ambiguity.  If the function in question is designated &#8220;virtual&#8221; in the base class  then the derived class&#8217;s function would be called (if it exists). If it  is not virtual, the base class&#8217;s function would be called. C++ non-virtual function calls are resolved at compile time with static binding, while virtual function calls are resolved at run time with dynamic binding<br /><br />A destructor in base class need to be declared virtual.<br /><br />Calling a method with an object pointer always invokes:<br />»&nbsp;&nbsp;&nbsp;&nbsp; the most derived class function, if a method is virtual<br />»&nbsp;&nbsp;&nbsp;&nbsp; the function implementation corresponding to the object pointer type (used to call the method), if a method is non-virtual<br /><br />A  virtual destructor works in the same way A destructor gets called when  an object goes out of scope or when we call delete on an object pointer  When any derived class object goes out of scope, the destructor of that  derived class gets called first It then calls its parent class  destructor so memory allocated to the object is properly released. But,  if we call delete on a base pointer which points to a derived class  object, the base class destructor gets called first (for non-virtual  function). We should use virtual destructors if we call delete on a base  class pointer which points to a derived class<br /><br />=========<br /><br />Templates are the foundation of generic programming, which involves  writing code in a way that is independent of any particular type. The  library containers and iterators are examples of generic programming.  There is a single definition of each container, such as vector, but we  can define many different kinds of vectors that differ by the element  type that the vector contains. Similarly, we can, and have, used  templates without understanding how they are defined.<br /><br />A  template is a blueprint or formula for creating a class or a function. A  function template is a type-independent function that is used as a  formula for generating a type-specific version of the function. For  example, the standard library defines a single class template that  defines what it means to be a vector. That template is used to generate  any number of type-specific vector classesfor example,  vector&lt;int&gt; or vector&lt;string&gt;.<br /><br />reference &lt;<a href="http://www.amazon.com/Primer-4th-Stanley-B-Lippman/dp/0201721481/ref=sr_1_1?ie=UTF8&amp;qid=1301455836&amp;sr=8-1">C++ primer</a>&gt;</div>
</div>

</article>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a href="https://github.com/creasyw">Qiong Wu</a> &copy;2009-2013 &mdash;
  <span class="credit">Thanks to <a href="http://ayyang.com">Alex Yang</a>, <a href="http://octopress.org/">Octopress</a> and <a href="https://github.com/">Github</a>.</span><br>
  send me an email 
<script type="text/javascript">
var emailriddlerarray=[99,114,101,97,115,121,119,117,113,105,111,110,103,64,103,109,97,105,108,46,99,111,109]
var encryptedemail_id82='' //variable to contain encrypted email 
for (var i=0; i<emailriddlerarray.length; i++)
 encryptedemail_id82+=String.fromCharCode(emailriddlerarray[i])
 document.write('<a href="mailto:'+encryptedemail_id82+'"><img src="/img/email.png" alt="Qiong" /></a>')
</script>
</p>
</footer>
</body>
</html>
