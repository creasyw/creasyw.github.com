
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>What are the differences between a union and a structure in C? - Qiong Wu</title>
  <meta name="author" content="Qiong Wu">

  
  <meta name="description" content="original webpage&nbsp;clickAnswerA union is a way of providing an alternate way of describing the same memory area. In this way, you could have a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://creasyw.github.io/blog/2010/12/12/what-are-differences-between-union-and/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="./atom.xml" rel="alternate" title="Qiong Wu" type="application/atom+xml">
  
  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  
  
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Qiong Wu</a></h1>
  <!--
  
    <h2>A blogging framework for hackers.</h2>
  
  -->
</hgroup>
</header>
  <nav role="navigation"><!--
<ul class="subscription" data-subscription="rss">
  <li><a href="./atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:creasyw.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

-->

<ul class="main-navigation">
  <!--<li><a class="yellow" href="/">Hello</a></li>-->
  <li><a class="github" href="/blog">Blog</a></li>
  <li><a class="github" href="http://www.github.com/creasyw">Github</a></li>
  <li><a class="github" href="https://twitter.com/creasywuqiong">Twitter</a></li>
  <li><a class="github" href="/blog/archives/">Archive</a></li>
  <li><a class="github" href="/rss">RSS</a></li>
</ul>


</nav>
  <div id="main">
    <div id="content">
      <article>
  <header>
    
      <h1 class="entry-title">What Are the Differences Between a Union and a Structure in C?</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-12T00:00:00-05:00" pubdate data-updated="true">Dec 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
original webpage&nbsp;<a href="http://wiki.answers.com/Q/What_are_the_differences_between_a_union_and_a_structure_in_C#ixzz17ecYS9zC">click</a><br /><br /><div><a href="http://wiki.answers.com/Q/What_are_the_differences_between_a_union_and_a_structure_in_C#ixzz17ecYS9zC"></a><br /><div><span class="Apple-style-span" style="font-family: Verdana,sans-serif; font-size: 12px;"><h2 style="font-size: 16px; margin: 0px; padding: 0px;"><a class="h2heading answer h2" href="" name="Answer" style="color: black; font-size: 16px; outline-style: none; padding: 0px; text-decoration: none;">Answer</a></h2><div style="margin: 0px; padding: 0px;">A union is a way of providing an alternate way of describing the same memory area. In this way, you could have a struct that contains a union, so that the &#8220;static&#8221;, or similar portion of the data is described first, and the portion that changes is described by the union. The idea of a union could be handled in a different way by having 2 different structs defined, and making a pointer to each kind of struct. The pointer to struct &#8220;a&#8221; could be assigned to the value of a buffer, and the pointer to struct &#8220;b&#8221; could be assigned to the same buffer, but now a-&gt;somefield and b-&gt;someotherfield are both located in the same buffer. That is the idea behind a union. It gives different ways to break down the same buffer area.</div><div style="margin: 0px; padding: 0px;"><br /></div><div style="margin: 0px; padding: 0px;"></div><h2 style="font-size: 16px; margin: 0px; padding: 0px;"><a class="h2heading h2" href="" name="Answer:" style="color: black; font-size: 16px; outline-style: none; padding: 0px; text-decoration: none;">Answer:</a></h2><div style="margin: 0px; padding: 0px;">The difference between structure and union in c are: 1. union allocates the memory equal to the maximum memory required by the member of the union but structure allocates the memory equal to the total memory required by the members. 2. In union, one block is used by all the member of the union but in case of structure, each member have their own memory space</div><div style="margin: 0px; padding: 0px;"><br /></div><div style="margin: 0px; padding: 0px;"></div><h2 style="font-size: 16px; margin: 0px; padding: 0px;"><a class="h2heading h2" href="" name="Difference_in_their_Usage:" style="color: black; font-size: 16px; outline-style: none; padding: 0px; text-decoration: none;">Difference in their Usage:</a></h2><div style="margin: 0px; padding: 0px;">While structure enables us treat a number of different variables stored at different in memory , a union enables us to treat the same space in memory as a number of different variables. That is a Union offers a way for a section of memory to be treated as a variable of one type on one occasion and as a different variable of a different type on another occasion.</div><div style="margin: 0px; padding: 0px;"><br /></div><div style="margin: 0px; padding: 0px;">There is frequent rwquirement while interacting with hardware to&nbsp;<a class="iAs" href="http://wiki.answers.com/Q/What_are_the_differences_between_a_union_and_a_structure_in_C#" style="background-color: transparent ! important; border-bottom: 0.1em solid rgb(0, 100, 0) ! important; border-left-style: none; border-right-style: none; border-top-style: none; bottom: auto; color: rgb(0, 100, 0) ! important; display: inline; float: none; font-family: inherit ! important; font-size: 12px; font-weight: normal ! important; left: auto; line-height: normal; margin: 0px; outline-style: none; padding-bottom: 1px ! important; padding-left: 0px; padding-right: 0px; padding-top: 0px; position: static ! important; right: auto; text-align: left; text-decoration: underline ! important; top: auto;" target="_blank">access</a>&nbsp;access a byte or group of bytes simultaneously and sometimes each byte individually. Usually union is the answer.</div><div style="margin: 0px; padding: 0px;"><br /></div><div style="margin: 0px; padding: 0px;">=======Difference With example***** Lets say a structure containing an int,char and float is created and a union containing int char float are declared. struct TT{ int a; float b; char c; } Union UU{ int a; float b; char c; }</div><div style="margin: 0px; padding: 0px;"><br /></div><div style="margin: 0px; padding: 0px;">sizeof TT(struct) would be &gt;9 bytes (compiler dependent-if int,float, char are taken as 4,4,1)</div><div style="margin: 0px; padding: 0px;"><br /></div><div style="margin: 0px; padding: 0px;">sizeof UU(Union) would be 4 bytes as supposed from above.If a variable in double exists in union then the size of union and struct would be 8 bytes and cumulative size of all variables in struct.</div><div style="margin: 0px; padding: 0px;"><br /></div><div style="margin: 0px; padding: 0px;"></div><h2 style="font-size: 16px; margin: 0px; padding: 0px;"><a class="h2heading h2" href="" name="Detailed_Example:" style="color: black; font-size: 16px; outline-style: none; padding: 0px; text-decoration: none;">Detailed Example:</a></h2><div style="margin: 0px; padding: 0px;">struct foo&nbsp;<br style="padding: 0px;" />  {&nbsp;<br style="padding: 0px;" />char c;&nbsp;<br style="padding: 0px;" />long l;&nbsp;<br style="padding: 0px;" />  char *p;&nbsp;<br style="padding: 0px;" />};&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />  union bar&nbsp;<br style="padding: 0px;" />{&nbsp;<br style="padding: 0px;" />char c;&nbsp;<br style="padding: 0px;" />  long l;&nbsp;<br style="padding: 0px;" />char *p;&nbsp;<br style="padding: 0px;" />};&nbsp;<br style="padding: 0px;" />  <br style="padding: 0px;" />A struct foo contains all of the elements c, l, and p. Each element is&nbsp;separate and distinct.&nbsp;<br style="padding: 0px;" />  <br style="padding: 0px;" />A union bar contains only one of the elements c, l, and p at any given&nbsp;time. Each element is stored in the same memory location (well, they all&nbsp;start at the same memory location), and you can only refer to the element&nbsp;which was last stored. (ie: after &#8220;barptr-&gt;c = 2;&#8221; you cannot reference&nbsp;any of the other elements, such as &#8220;barptr-&gt;p&#8221; without invoking undefined&nbsp;behavior.)&nbsp;<br style="padding: 0px;" />  <br style="padding: 0px;" />Try the following program. (Yes, I know it invokes the above-mentioned&nbsp;&#8220;undefined behavior&#8221;, but most likely will give some sort of output on&nbsp;most computers.)&nbsp;<br style="padding: 0px;" />  <br style="padding: 0px;" />==========&nbsp;<br style="padding: 0px;" />#include&nbsp;<br style="padding: 0px;" />  <br style="padding: 0px;" />struct foo&nbsp;<br style="padding: 0px;" />{&nbsp;<br style="padding: 0px;" />  char c;&nbsp;<br style="padding: 0px;" />long l;&nbsp;<br style="padding: 0px;" />char *p;&nbsp;<br style="padding: 0px;" />  };&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />union bar&nbsp;<br style="padding: 0px;" />  {&nbsp;<br style="padding: 0px;" />char c;&nbsp;<br style="padding: 0px;" />long l;&nbsp;<br style="padding: 0px;" />  char *p;&nbsp;<br style="padding: 0px;" />};&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />  int main(int argc,char *argv[])&nbsp;<br style="padding: 0px;" />{&nbsp;<br style="padding: 0px;" />struct foo myfoo;&nbsp;<br style="padding: 0px;" />  union bar mybar;&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />myfoo.c = 1;&nbsp;<br style="padding: 0px;" />  myfoo.l = 2L;&nbsp;<br style="padding: 0px;" />myfoo.p = &#8220;This is myfoo&#8221;;&nbsp;<br style="padding: 0px;" />  <br style="padding: 0px;" />mybar.c = 1;&nbsp;<br style="padding: 0px;" />mybar.l = 2L;&nbsp;<br style="padding: 0px;" />  mybar.p = &#8220;This is mybar&#8221;;&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />printf(&#8220;myfoo: %d %ld %s\n&#8221;,myfoo.c,myfoo.l,myfoo.p);&nbsp;<br style="padding: 0px;" />  printf(&#8220;mybar: %d %ld %s\n&#8221;,mybar.c,mybar.l,mybar.p);&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />  return 0;&nbsp;<br style="padding: 0px;" />}&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />  ==========&nbsp;<br style="padding: 0px;" /><br style="padding: 0px;" />On my system, I get:&nbsp;<br style="padding: 0px;" />  <br style="padding: 0px;" />myfoo: 1 2 This is myfoo&nbsp;<br style="padding: 0px;" />mybar: 100 4197476 This is mybar</div></span></div></div></div>
</div>

</article>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a href="https://github.com/creasyw">Qiong Wu</a> &copy;2009-2013 &mdash;
  <span class="credit">Thanks to <a href="http://ayyang.com">Alex Yang</a>, <a href="http://octopress.org/">Octopress</a> and <a href="https://github.com/">Github</a>.</span><br>
  send me an email 
<script type="text/javascript">
var emailriddlerarray=[99,114,101,97,115,121,119,117,113,105,111,110,103,64,103,109,97,105,108,46,99,111,109]
var encryptedemail_id82='' //variable to contain encrypted email 
for (var i=0; i<emailriddlerarray.length; i++)
 encryptedemail_id82+=String.fromCharCode(emailriddlerarray[i])
 document.write('<a href="mailto:'+encryptedemail_id82+'"><img src="/img/email.png" alt="Qiong" /></a>')
</script>
</p>
</footer>
</body>
</html>
