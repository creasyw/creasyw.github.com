
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Qiong Wu</title>
  <meta name="author" content="Qiong Wu">

  
  <meta name="description" content="&nbsp; &nbsp;&nbsp; My plan for 2012: do things that children doLearn thingsPlay sportsSing and play instrumentsDraw and paintWrite stories&#8211; I &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://creasyw.github.io/blog/page/3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="./atom.xml" rel="alternate" title="Qiong Wu" type="application/atom+xml">
  
  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  
  
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Qiong Wu</a></h1>
  <!--
  
    <h2>A blogging framework for hackers.</h2>
  
  -->
</hgroup>
</header>
  <nav role="navigation"><!--
<ul class="subscription" data-subscription="rss">
  <li><a href="./atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:creasyw.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

-->

<ul class="main-navigation">
  <!--<li><a class="yellow" href="/">Hello</a></li>-->
  <li><a class="github" href="/blog/archives/">Blog</a></li>
  <li><a class="github" href="/tags">Tags</a></li>
  <li><a class="github" href="http://www.github.com/creasyw">Github</a></li>
  <li><a class="github" href="https://twitter.com/creasywuqiong">Twitter</a></li>
  <li><a class="github" href="/rss">RSS</a></li>
</ul>


</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/24/reading-digest-01242012/">Reading Digest 01/24/2012</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-24T00:00:00-06:00" pubdate data-updated="true">Jan 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
&nbsp; &nbsp;&nbsp; <br /><a href="http://reprog.wordpress.com/2012/01/21/my-plan-for-2012-do-things-that-children-do/">My plan for 2012: do things that children do</a><br />Learn things<br />Play sports<br />Sing and play instruments<br />Draw and paint<br />Write stories<br />&#8211; I have to say it is a better &#8220;next year resolution&#8221; than <a href="http://creasywuqiong.blogspot.com/2012/01/summary-of-2011-and-resolution-of-2012.html">what I have made</a>. The explanation is clear and straightforward. So, I should add them to my resolutions!<br /><br /><a href="http://www.jamesaltucher.com/2011/07/life-tastes-best-when-you-eat-what-you-kill/">Life Tastes Best When You Eat What You Kill</a><br />Don’t depend on one boss, buyer for your company, product, service you offer, etc. Diversify everything you can.<br />Become an expert.<br />Connect people.<br />Give ideas for free.<br />Always work on your exit. No matter where you are: a job, a startup, your startup, writing a column, working at Mcdonalds, always diversify your possible exits and begin immediately working on them. You don’t have to exit tomorrow, but never forget that you can get that email tomorrow that says you have to clean out your desk by Saturday.<br />Never say a bad word about anyone.<br />Don’t care what people think.<br />Create your luck.<br />Take responsibility for all failures.<br />Honesty. If you don’t ask for what you want, chances are you won’t get it. If you don’t say what you believe, you’ll never stand out from the 99% of people out there who hide the truth about themselves and their desires. If you don’t stand up and say or show how special you are, nobody will ever think you are special. Nobody is out there advocating for you. Honesty about what you feel, believe, know, think, want, will make you a multi-dimensional being in a flatland world.<br />Patience.让子弹飞一会儿。<br />&#8211; The general guidelines might be too vague to follow or helpful to summarize some vague thoughts in mind. This one is much closer to the latter category.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/14/summary-of-2011-and-resolution-of-2012/">Summary of 2011 and Resolution of 2012</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-14T00:00:00-06:00" pubdate data-updated="true">Jan 14<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; <br />这是一篇想了很久的日志。过去的一年，发生了很多叵测的事情，我学到了很多，也付出了不小的代价。接下来的这一年，也许会有很多重要的事情发生。无论如何，对于经历的2011，把感想趁着鲜活的时候写下来，也算是对自己的一个交代。<br /><br />@implementation 2011_Summary<br /><br />1. 诚实。这是上一年最大的教训。无论是在学习、研究上，或是与陌生人的交往，还是对待自己最亲密的人，诚实永远是唯一正确的选择。我了解，它的反面是一个多么贬义的行为。但总会有一些时候，要么是觉得自己已经付出了很多努力，所以取些捷径也没什么大过错；要么就是压根儿的应激反应，连自己都无法解释。事后回头看的时候，才会感叹自己的价值观有多么脆弱。但自打意识到之后，再这样任由其发展下去，就太说不过去了。上一年我已经得到了足够多的教训，能够让我在每次自省的时候都深深训诫自己，去努力做到这个简单的品质。<br /><br />2. 编程。这是上一年最大的收获。再往之前岁月里寻找，所有的技能、知识都是和学业紧紧连成一体的，于是，就都是些必须去做却又苦逼的差事。也许是从一零年开始的，编程的乐趣逐渐让和它相关的知识自成体系，从其它知识里分离了出来。首先，编程和学习语言一样，可以清晰感觉到点滴的积累。昨天又会了一个新的框架，今天又学了一个新的trick，于是重写代码的程序效率提高了500％。其次，网络上丰富的社区，把全世界有相同爱好的聪明头脑都集中在了一起，类似于之前小学初中，我到了一个足球传统学校，和一群踢球牛逼的人一起，于是也开始爱上了足球。两者的区别在于，踢球好的人往往不爱带踢球不好的，但技术社区里，包容性强了很多。当然，根本差别是，这里没有任何地域限制。和聪明人交流，总是一件愉快的事情。提问、回答，各种限时或不限时的项目，奇怪的题目集锦，可以玩儿的不亦乐乎。当然，最重要的原因是，这件事情，可以让自己不断提高，并且帮助别人获得些便利，若是足够努力，还能让世界变得更好。这是一个多么牛逼的事情啊！<br /><br />之前我的编程经验都是和硬件相关的，一个程序两条线索推进，其间的区别是浮点计算和定点计算⋯⋯我并非说之前的C代码都不值得一提。相反，从算法的浮点实现，到定点应用限制，其间的各种考量，甚至是算法重新设计，所需知识和工作量都是巨大的。并且，我也基本同意 <a href="http://www.joelonsoftware.com/articles/ThePerilsofJavaSchools.html">Joel Spolsky</a>&nbsp;的观点，学习这种底层代码对于程序员的基本功至关重要。但毕竟，C太原始了。几乎所有的模块都需要自己来搭，就算考虑到reusability这仍然是一件很蛋疼的事情。有语义更人性化的Python，有模块化更好的Java，有更有趣的Obj-C，若是想挑战一下理解力，还可以用Lisp。有句话已经忘记了出处，大意是讲，没有最好的编程语言，只有对于某项工作最合适的语言。这是没错的。打开自己的眼界，学习更多的语言，也就有了更多的乐趣。⋯⋯当然，若是回答问题“你最喜欢哪种编程语言？”我还是会说C，我喜欢那种掌控所有细节的感觉，是为了最大限度的榨取硬件计算能力，也是因为程序没有任何的暗箱，似乎心里能安然很多。<br /><br />3. 阅读。算上各种教材，去年总共读了大约20本书，其中精读的十本左右，都是大部头。收获还是不错的。还有另一个阅读源就是google reader，订阅的东西从一零年的google group，换到了hacker news，吵架还是有，只是方式方法更加多元化了。比如C语言该换还是不该换，Java好还是不好，Node.js是不是癌细胞，以及.Net程序员到底是不是傻逼⋯⋯各种大坑，于是各路英豪就各种姿势往里面跳。<br /><br />今年效率最高的时候是读man-month，因为课程演讲需要，所以总共花了一天的时间就看完了，再加上摘抄笔记和整理的幻灯片，一整天下来感觉学到了不少。而收获最多的两本书是，K&amp;R C 和 CLRS。两本书很多章节都看了两遍。所谓经典教材大概就是如此了，好像每字每句都经过了斟酌，复杂的理念都能表述的很有条理；而因为所涉及的基础知识涵盖太广但书籍篇幅有限，作者只好把一些次重点的东西用小字写下来，或者一笔带过，这也就是需要反复翻看的原因了。此外，阅读积累的质变似乎是在一零年末开始的，不在抵触大部头的英文著作了。而且读下来再翻回头看译著，发现译文里漏洞百出，而且很多晦涩的中文名词，反正也是生僻词，还不如原来英文解释的顺畅。<br /><br />4. 水果。乔布斯去世是一一年的一件大事情，而五月份我买了MBP，算是正式成为一名水果消费者了。之前，有不同的人和我讲过各种苹果的坏话，总之两个词，就是装逼和不兼容。前者我倒是无所谓，所谓装逼或者牛逼，冷暖自知，而且在努力牛逼的过程中，装装也未尝不可^_^。而之前不同人讲的不兼容倒是真的唬过我一段时间。之后用了很久的ubuntu，想来这个linux都用的欢喜，来个unix加小清晰界面的Mac OS也没啥。然后就买了。现在来看，未来很长的一段时间里，除非苹果倒闭了，否则我几乎没有可能把主要工作平台换回windows。所有的工作都可以顺利完成，没有任何兼容问题，方便的购买正版软件，程序可以方便的迭代升级，加之这个平台的软件用起来大都十分顺手，而且自己最近还在鼓捣Obj-C。这个操纵系统的转换是成功的。PS. 这个系统是否安全，似乎是另一个永恒的争论话题。而对于所有惧怕这个系统不安全的人们，可以自修一下计算机操作系统这门课，或者Google一下win和unix的差别，以及如何保护系统安全，或者读一下<a href="http://mac.appstorm.net/roundups/utilities-roundups/5-mac-antivirus-tools-for-os-x-and-do-we-need-them/">这篇不错的文章</a>。<br /><br />而至于乔布斯，使用了他创造的产品和平台之后，他去世的消息也更让我感到悲伤。从产品线到操作系统到平台，所有的一切就好像一盘缜密围棋，在他去世之后回溯的审视，所能感受的除了惊叹也就只有悲伤了。有关他的文章很多，但最好的一篇，没有之一，是他亲生姐姐写的<a href="http://www.nytimes.com/2011/10/30/opinion/mona-simpsons-eulogy-for-steve-jobs.html?_r=2&amp;pagewanted=all">悼词</a>。每当自己想倦怠的时候，看一看，总会或激励或愧疚，重新开始好好做自己的事情。<br /><br />5. Instapaper。Marco Arment写的牛逼应用。我是他博客的忠实读者，也喜爱这个应用。其实我决定使用水果系统，他博客里一系列文章也是功不可没。他还是Tumblr的创始人，以及苹果的超级粉丝。所以当他提到Android以及Windows Phone时候那种戏谑的语气，很是有趣。而更令我着迷的，是他所处的状态，专职做一件自己喜爱的事情，如同一个艺术家一样不断更新完善自己的创作，这个创作受到很多人的喜爱、帮助别人更好的获取资讯，并且自己依靠这个创作获得收入，活的还不错。很多时候我会想，就算自己的爱好不能达到“专职”以及”依靠创作获得收入“，但起码可以努力做到其余的部分。换句话讲，我找到了自己的爱好，尽管不确定能不能用它获得博士学位，或是以它营生，但我确定这是件有意义的事情，所以我也会一直坚持坐下去的。<br /><br />6. 10000小时。之前似乎在别的地方也看到过，但已经找不到出处了，也没想过太多，直到读了<a href="http://www.ruanyifeng.com/blog/2011/04/the_dan_plan.html">阮一峰的日志</a>，我才认真思考这个数字的意义。当然，也有其他人计算自己的工作时间，算出来每年能工作2160小时，这样五年能有超过一万小时的积累。但具体看看计算方法，似乎从坐在写字台前开始，连回复工作邮件的时间都算上了，而且取样一天，然后乘以360天/年。这个就有点儿扯了。想要成为乔丹、盖茨或者类似的人，应该要更困难些地吧？比如莫扎特成名前有超过10000的训练，不能把他擦钢琴的时间算在内，乔丹的训练时间应该也不包括他在球场边和拉拉队员们扯淡的时间。训练就是训练，可以包括冥想、包括查找资料、包括 trail and error，包括一切和提高与之相关能力的活动时间。但也仅限于此。我一直在跟着<a href="http://www.thedanplan.com/">这个家伙</a>的网站，现在他已经领先我将近200小时了，希望我能在不久的将来追回来。<br /><br />6. 读库以及独立书店。这个和我自己似乎没有什么关系，但有些想法，也记在这里好了。光合作用和第三极，独立书店的倒闭引得一篇哀鸣。也许我只是以站着说话不腰疼的态度审视，可我真是觉得它们只是市场运转的一个结果而已。第三极书籍分类十分混乱，光合作用开店布局不合理，内设咖啡馆不伦不类，书籍既不全又没有特色⋯⋯总之，作为消费者，很难看出来它们的拥有者在真正用心的经营。等到被淘汰的时候在对着媒体感叹生态圈的恶劣？也成，算是对投资方的一个交代。<br /><br />和它们对比的，是读库，店小六的用心给我很深刻的印象。嗯，我觉得似乎应该叫六哥或者六叔了⋯⋯订阅读库的一年里，精美的书签，或是特别的环保袋，或者几本赠阅的香港杂志，随时可能随着书籍一同收到。如果有疑问，发邮件有问必答，短信也回复。想想读库的订阅群体数量，而编者只有一人，这样的效率着实令人钦佩。另外，读库和连锁的光合作用或是曾经占有一座大楼的第三极，应该是生活在一个生态圈里，唯一的差别在于读库因为小众，所以少些博弈筹码。当当曾经（或者现在仍然）拖欠了读库几十万的书款，投放到新华书店等传统渠道的书款也总是收不回来，但读库的结果是，偶尔困难时候化险为夷，正常时候生活的有滋有味。全心全意去完成这项工作，应该是其中很重要的一个原因吧。<br /><br />@end<br /><br />&#8212;<br /><br />@protocol 2012_Resolution<br /><br />1. 训练时间追上并且不再落后与Dan<br />2. 发布至少一个app<br />3. 精读至少15本专业书籍<br />4. 写一篇研究论文<br />5. 可以熟练使用Lisp<br /><br />[UPDATE: five more general guidelines<br />Learn things<br />Play sports<br />Sing and play instruments<br />Draw and paint<br />Write stories<br />]<br /><br />@end<br /><br /><br /><br />cheers,</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/12/22/excerpt-from-netscape-dorm/">Excerpt From the Netscape Dorm</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-22T00:00:00-06:00" pubdate data-updated="true">Dec 22<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
&nbsp;&nbsp;&nbsp;<br />All of the paragraphs below are excerpted from &#8221;<a href="http://www.jwz.org/gruntle/nscpdorm.html">the netscape dorm</a>&#8221;. It is a joyful experience reading the diary. But maybe this is just as what <a href="http://www.jwz.org/">Jamie Zawinski</a> said: &#8220;This is the time period that is traditionally referred to as &#8220;the good old days,&#8221; but time always softens the pain and makes things look like more fun than they really were. But who said everything has to be fun? Pain builds character. (Sometimes it builds products, too.) &#8220;.<br /><br />======================<br /><br />But it was no big deal, we just had the meeting later. It&#8217;s hard for someone to hold it against you when you miss a meeting because you&#8217;ve been at work so long that you&#8217;ve passed out from exhaustion. <br /><br />Wow, I must be tired &#8211; I just turned on the television, and MTV is actually moving too fast for me to understand it. <br /><br />I saw Ian today, for the first time in months. His first words were, &#8220;Wow, you look like shit.&#8221; He says I seem really strung-out and twitchy. I thought I had been doing ok! I got a full night&#8217;s sleep last night and everything. I have no life. I never see any of my non-work friends, and I&#8217;m wasting away my one and only youth. I ought to be out doing fun things and active things, the kind of things I won&#8217;t be able to do when my mind and body finally decay. But instead I&#8217;m stuck inside under fluorescent lights, pushing bits around inside a computer in ways that are only interesting to other nerds. I glanced at a movie listing and there are movies out that I haven&#8217;t even heard of. How did that happen? That freaks me out. <br /><br />I&#8217;ve just read over some of my diary for the last few months, and man, a lot of it is completely incoherent! It&#8217;s full of incomplete sentences, made up words, random surreal imagery that I can&#8217;t even understand let alone remember typing. Have I been typing in my sleep? I hope I don&#8217;t sound like that in person. I wonder what my code must look like! Oh well, it seems to work. <br /><br />Well today has been more than a little bit frustrating. The details don&#8217;t really matter (what does!), but I&#8217;ve spent most of the day so stressed out that my skull is rattling from the pressure of my teeth grinding together. I feel like I have finally exceeded my stress limits and am about blow a gasket. But I can&#8217;t go home, because if I do, the world will end, right? I&#8217;m trying to work, but every few minutes I have to stop typing and make fists so tightly that my whole body shakes. <br /><br />Coots know how to live. I wish I were a coot. Mr. Wizard, I think I&#8217;d rather be a coot than a hacker. Yeah, sure, every now and then a giant pink-haired ape would come running after me and chase me into the lake, but really, could it be that much worse? I&#8217;d have a tiny little brain and wouldn&#8217;t be expected to worry about anything. <br /><br />The power came back on, and we put the damnable program on the FTP server, and two million people all started attempting to download it at once, before we had even posted the announcement message, and we&#8217;re done done done and I suppose now we can all live happily ever after…… We sat in the conference room and hooked up the big TV to one of the Indys, so that we could sit around in the dark and watch the FTP download logs scroll by. jg hacked up an impromptu script that played the sound of a cannon shot each time a download successfully completed. We sat in the dark and cheered, listening to the explosions. <br /><br />I&#8217;ve just noticed that there&#8217;s still purple ink on the inside of my right wrist spelling the word VOID: the hand-stamp from a concert that I went to last week. I left work, went to the show, and came back to work immediately afterwards. I&#8217;ve been here since.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/12/19/memory-management-in-obj-c/">Memory Management in Obj C</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-19T00:00:00-06:00" pubdate data-updated="true">Dec 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />I just complete my 2nd iOS homework, which took me cumulative 40 hours. The part that impressed (or&#8230; baffled&#8230;) me most is about dealing with memory management. In one scree, I opened the Xcode IDE, and in another screen, I just cross-referenced StackOverflow, Developer Library, and Google searching over and over again. There was no one-stop solution for all of the problems I met. But it only made me feel more enjoyable when I finally found the path to solution:) In case that I might forget the key points all I have collected, I record them here with references.<br /><br />1. <a href="http://stackoverflow.com/questions/3789684/objective-c-checking-if-object-is-undefined-or-nil">Declaration of object</a>. <br /><code>MyObject* myObject;</code><br /><b style="color: red;">WRONG! </b>This means myObject points to a chunk of garbage memory, which would not correctly work at all. Basically, there are two ways to do this correctly:<br /><code>MyObject* myObject=nil;<br />MyObject* myObject=[[MyObject alloc] init];&nbsp;</code><br />The former one makes myObject to point to nothing. Now it at least consistently does nothing, or I could use this pointer points to some useful object later on. But this will also lends to another issue about the life-cycle of a object which I will talk about in detail later. The latter one is to allocate a MyObject object in the memory, initialize it, and then make myObject point to the chunk of memory correctly allocated and initialized. Now, if the MyObject has the interface<br /><code>@interface MyObject:NSObject{<br />&nbsp;&nbsp;&nbsp; NSString* string;<br />}<br /><br />@end<br /><br />@implementation MyObject<br />-(id) init {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(self=[super init]){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...do something ...<br />&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return self;<br />}<br /></code><br />after [super init] is successfully performed, Objective-C guarantees that the ivar string is set to nil, i.e. string points to nothing. But it is not that an NSString is allocated or initialized.<br /><br />2. Basic rules about ownership&nbsp; and memory management:<br /><ul><li>Any object returned by <i><b>alloc</b></i>, <i><b>copy</b></i>, <i><b>copyWithZone</b></i>, or <i><b>new</b></i> has a retain count of 1.</li><li><i><b>retain</b></i> increases the receiving object&#8217;s retain count.</li><li><i><b>release</b></i> decreases the receiving object&#8217;s retain count.</li><li><i><b>autorelease</b></i> tells the current autorelease pool to send the receiving object the release message “later”.</li><li>Any factory method that doesn&#8217;t have “new” or “copy” in the name (e.g., stringWithString:) returns an object that it has autoreleased on your behalf.</li><li>Conversely, if you are not the creator of an object and have not expressed an ownership interest, you must not release it. </li></ul>Or, digested a bit:<br /><ul><li>Any method whose name contains copy, alloc, retain, or new returns an object that you own.</li><li>Any method that doesn&#8217;t, returns an object that you don&#8217;t own.</li><li>To own an object, retain it.</li></ul><br />Reference: <a href="http://stackoverflow.com/questions/318666/object-ownership-in-stringwithstring-and-initwithstring-in-nsstring">StackOverflow,</a> <a href="http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/MemoryMgmt/Articles/MemoryMgmt.html">Developer Library</a>. <a href="http://www.otierney.net/objective-c.html#retain">An example about <b><i>retain</i></b> and <b><i>release</i></b></a>, and <a href="http://stackoverflow.com/questions/3262575/alloc-init-with-synthesized-property-does-it-cause-retain-count-to-increase">another deeper discussion</a>. <br /><br />3. <i><b>copy</b></i> versus <i><b>retain</b></i><br /><br />There are lots of discussions about the subtle differences between these two operations, though they both intend to take the ownership from the acquired objects. &#8221;<a href="http://vgable.com/blog/2008/11/14/prefer-copy-over-retain/">(Almost) every time you use retain in Objective-C/Cocoa, you really should be using copy. Using retain can introduce some subtle bugs, and copy is faster then you think…</a>&#8221; The problem with using retain to “take ownership” of an object is that someone else has a pointer to the same object, and if they change it, you will be affected.<br /><br />There are some other discussions concerning the same kind of problem in <a href="http://stackoverflow.com/questions/387959/nsstring-property-copy-or-retain/388002#388002">StackOverflow</a> and <a href="http://robnapier.net/blog/implementing-nscopying-439">post in a blog</a>. Besides, I also made to rookie mistakes that took me quite a while to find out and correct.<br /><br />4. <a href="http://stackoverflow.com/questions/3488446/is-a-synthesized-property-already-alloc-init-ed">Has a @synthesize property already init &amp; alloc-ed?</a><br /><br />The answer is NO. It needs to populate the property manually. The exception is if you have an IBOutlet property that you&#8217;ve connected in a nib file; that will get populated automatically when the nib is loaded.<br /><br />For view controllers, the vast majority of properties are IBOutlets and properties that describe what the view will show, and the latter case is usually set by the object that creates the view controller. That will usually be the case for a view controller that shows a detail view for some object.<br /><br />If you do have properties that are completely local to the view controller, a common pattern is to write your own getter and setter (rather than using @synthesize) and create the object in the getter if it doesn&#8217;t exist. This lazy-loading behavior means you can easily free up resources in low-memory conditions, and that you only pay the cost of loading an object when you need it.<br /><code>// simple lazy-loading getter<br />- (MyPropertyClass*) propertyName {<br />&nbsp;&nbsp;&nbsp; if(propertyIvarName == nil) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; propertyIvarName = [[MyPropertyClass alloc] init];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ......&nbsp; // ... other setup here<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; return propertyIvarName;<br />}</code><br /><br />5. Pitfall about the use of getter/setter:<br /><code>@interface MyObject:NSObject{<br />&nbsp;&nbsp;&nbsp; NSString *aString;<br />}<br />@property (nonatomic, copy) NSString *aString;<br />- (void) someMethod; <br />@end<br /><br />@ implementation MyObject {<br />@synthesize aString;<br />- (id) init {<br />&nbsp;&nbsp;&nbsp; ......<br />}<br />- (void) someMethod {<br />&nbsp;&nbsp;&nbsp; ......<br />&nbsp;&nbsp;&nbsp; aString = [NSString stringWithString: @"blah, blah, blah."];<br />&nbsp;&nbsp;&nbsp; aString = [[NSString stringWithString: @"blah, blah, blah."] retain];<br />&nbsp;&nbsp;&nbsp; aString = [[NSString stringWithString: @"blah, blah, blah."] copy]; <br />&nbsp;&nbsp;&nbsp; self.aString = [NSString stringWithString: @"blah, blah, blah."];<br />&nbsp;&nbsp;&nbsp; ......<br />}<br /></code><br />The compiler would not pop up any warning or error about the code above. But the 1st line in the method is extremely dangerous as well as a bug hard to find: the aString does not own the returned object, which will be released at some time after the method is completed. Corresponding to the second factor that I write above, it is obvious that this sentence has no keywords about ownership. Worse still, although the ownership is considered in the <i>@property</i>, this sentence does not call the setter method. The right way to activate the setter is the 4th sentence. Besides, the 2nd and 3rd sentence request the ownership of the new object in another form. They are legal, of course.<br /><br />[ UPDATE:<br /><br />6. <i>viewDidUnload</i> vs. <i>dealloc</i><br /><br />Unless the program needs to break a retain cycle, it should generally only be releasing objects in the <i>dealloc</i> method. <i>viewDidUnload</i> is an <b>exception</b>; it is invoked in low memory situations and should be used to release anything useless. Then, a preferable way to do this is to write another <i>releaseMemory</i> function where takes most or all of the used objects into consideration and sets them into <i>nil</i>, and then to call this function both in <i>viewDidUnload</i> and <i>dealloc</i>.<br /><br />The general principle is just as mentioned above: if you do need to release them anywhere else, then always set the reference to nil after the release. That will protect the app from blowing up later (likely in dealloc).<br /><br />References: <a href="http://stackoverflow.com/questions/2353321/release-in-viewdidunload-and-dealloc-both">StackOverFlow-1</a>, <a href="http://stackoverflow.com/questions/1768076/are-viewdidunload-and-dealloc-always-called-when-tearing-down-a-uiviewcontroller">StackOverFlow-2</a>. <br />]<br /><br />It is glad that I have gone this far. And, I will move on,&nbsp; and dig deeper.<br /><br />cheers.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/12/07/winter-vacation-resolution/">Winter Vacation Resolution</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-12-07T00:00:00-06:00" pubdate data-updated="true">Dec 7<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<div>1. Study at least one online theoretical course;</div><div>2. Complete implementation of personal website and the Cal app in iOS;</div><div>3. Write blogs frequently documenting the progress;</div><div>4. Find a nice com to do the Spring intern;</div><div>5. Update info with Dr. Barber every other week about Identity threats;</div><div>6. Contact with professors on a daily basis;</div><div>7. Cumulate the training hours surpass 2400.</div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/06/rip-steve-jobs/">R.I.P Steve Jobs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-06T00:00:00-05:00" pubdate data-updated="true">Oct 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/27/find-longest-chain-under-collatz/">Find the Longest Chain Under 1M With Collatz Conjecture Condition</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-27T00:00:00-05:00" pubdate data-updated="true">Sep 27<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
It is the #14 problem in <a href="http://projecteuler.net/">Project Euler</a>.<br />In general, the Collatz conjecture has two main properties:<br />1. no infinite trajectory occurs;<br />2. no cycle occurs.<br /><br />The basic algorithm is quite straightforward. It just follows the instruction of Collatz Conjecture, which are n = n/2 if n is even, and n = 3*n+1 if n is odd. To accelerate the calculation, I also implemented a hash map, which could be retrieve theoretically in constant time O(1), and use the iteration number as the key in this map and the overall steps towards 1 as the value of that key. Under this situation, whenever a new node is found, it will be added into the map, and continue the computation until it reaches some key which has already stored in the map. That is, the route is undetermined before the calculation, but every number only needs to calculate once.<br /><br />The first problem I met is exactly the problem &#8221;<a href="http://stackoverflow.com/questions/6825146/why-am-i-getting-an-outofmemoryerror-in-java/7561025#7561025">Why am I getting an OutOfMemoryError trouble in Java?</a>&#8221; described in the StackOverflow. When the program reaches 113383, all of the heap space will be consumed. As I looked up in the internet, all solutions point to how to increase the heap space for Java. While, as I narrowed down the bug to the innermost loop and print out every relevant variable, the bug finally turned out to be the overflow of integer data type. Just change it into long would solve this problem.<br /><br />The second problem had the same symptom but with a much bigger number. When I print out every variable this time, nothing seemed wrong. But if we check the memory usage in run-time, all of the memory had been consumed by the hash map as some number will have extremely long chain towards 1, part of which are far beyond the range of 1000000. The scale is over 1.5 million items in hash map to achieve 725343. The solution is that the program only record number under 1 million, which are within the searching range and also most likely to be hit.<br /><br /><br />Solution discussions: <a href="http://stackoverflow.com/questions/2643260/project-euler-question-14-collatz-problem">[1]</a> (discussion in StackOverflow), <a href="http://lanzkron.wordpress.com/2010/01/18/yet-another-meaningless-javascript-benchmark/">[2]</a> (in JavaScript), <a href="http://lanzkron.wordpress.com/2010/06/02/optimizing-collatz-for-klutzes/">[3]</a> (optimization), <a href="http://blog.functionalfun.net/2008/07/project-euler-problem-14-hailstone.html">[4]</a> (in C++), <a href="http://sandrotosi.blogspot.com/2010/03/project-euler-problem-14.html">[5]</a> (in Python). By the way, <a href="http://stackoverflow.com/questions/235047/why-do-i-get-an-outofmemoryerror-when-inserting-50-000-objects-into-hashmap">here</a> is the discussion about looking up memory usage during run time in Java&#8211;it helps me find the 2nd bug. Finally, my solution is in <a href="https://github.com/creasyw/learning/blob/master/puzzles/Q011To015.java">one of my Github repositories</a>.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/15/java-exploring-from-stackoverflow/">Something About Java</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-15T00:00:00-05:00" pubdate data-updated="true">Sep 15<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<a href="http://www.cafeaulait.org/course/week2/02.html">Java&#8217;s primitive data types&nbsp; </a><br /><a href="http://stackoverflow.com/questions/718554/how-to-convert-an-arraylist-containing-integers-to-primitive-int-array">How to convert ArrayList containing Integers to primitive int array?</a><br /><a href="http://stackoverflow.com/questions/6210745/whats-difference-between-math-pow9-18-and-918">What&#8217;s difference between Math.pow(9, 18) and 9^18?</a><br /><a href="http://stackoverflow.com/questions/303913/java-reading-integers-from-a-file-into-an-array">Reading integers from a file into an array</a><br /><a href="http://stackoverflow.com/questions/6232257/2d-dynamic-array-using-arraylist-in-java">2D dynamic array using ArrayList&nbsp;</a><br /><a href="http://stackoverflow.com/questions/322715/when-to-use-linkedlist-over-arraylist">When to use LinkedList&lt;&gt; over ArrayList&lt;&gt; or vice-versa?&nbsp;</a><br /><a href="http://stackoverflow.com/questions/40471/java-hashmap-vs-hashtable">Java Hashtable versus HashMap.&nbsp;</a> <br /><a href="http://stackoverflow.com/questions/174093/toarraynew-myclass0-or-toarraynew-myclassmylist-size">.toArray(new MyClass[0]) or .toArray(new MyClass[myList.size()])?</a><br /><a href="http://stackoverflow.com/questions/627784/what-are-some-java-memory-management-best-practices">What are some Java memory management best practices?&nbsp;</a><br /><a href="http://www.briangoetz.com/pubs.html">Publications and regular columns from Brain Goetz</a><br /><a href="http://stackoverflow.com/questions/36701/struct-like-objects-in-java">Struct like object in Java. </a></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/06/largest-palindrome-made-from-product-of/">Largest Palindrome Made From the Product of Two 3-digit Numbers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-06T00:00:00-05:00" pubdate data-updated="true">Sep 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
This question is an entry level puzzle from <a href="http://projecteuler.net/">Project Euler</a>.<br /><br />It is very interesting because it has far more pitfalls than it first appears to be. There are some helpful discussions to pick up the whole scenario of this puzzle: <a href="http://codeblog.dhananjaynene.com/2010/01/find-the-largest-palindrome-made-from-the-product-of-two-3-digit-numbers/comment-page-1/#comment-48">1)</a> and <a href="http://pthree.org/2007/09/15/largest-palindromic-number-in-python/">2)</a>. Basically speaking, the first post listed the most straightforward thoughts, which is iterations two numbers both from 100 to 1000 and finding the maximum of the outcomes. While I wrote the algorithm, this is also the first idea came into mind while I added several optimizations on it.<br />1) Decrease one number 1 per step, and iterate the other one from 999 to 100.<br />2) Stop the step whenever it finds a palindrome and march to the next step by decrease the benchmark number by one.<br />3) Meanwhile, increase the lower bound of iterator from 100 to whenever it finds a palindrome. This will exponentially decrease the searching range. e.g. (A&#8211;benchmark number, B&#8211;iterator) if A*B==palindrome, the searching range for the next step would be [A-1, B]. Because if both numbers less than the previous finding, it must not be the LARGEST palindrome we would like to find.<br />4) The second stop criteria is the iterator equal or less than the lower bound mentioned in the last item.<br /><br />The major pitfall that I did see quite a few people mentioned is alternative decrease two numbers from 999, which the result comes to be 834*836=698896. The difference for two numbers are obviously unnecessary to be less or equal to one.<br /><br />The second reference provides the basic optimization from math point of view. All of the palindrome can be divided by 11, so&#8230;<br />P=100000x+10000y+1000z+100z+10y+x<br />P=100001x+10010y+1100z<br />P=11*(9091x+910y+100z)<br />Then, the question is simplified to find two 3-digit numbers, at least one of which should be divided by 11. Similarly as the previous method, if A can be divided by 11, decreasing B by one per time; and if A cannot divided by 11, decreasing B by 11 per time.<br /><br />My solutions for the first 5 puzzles are <a href="https://github.com/creasyw/learning/blob/master/puzzles/q001To005.c">here</a>.<br />cheers,</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/25/editing-hex-file-via-vim/">Editing Hex File via Vim</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-25T00:00:00-05:00" pubdate data-updated="true">Jul 25<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
It took me some time to find useful tools comparing hex file in mac. I had tried DiffMerge, kdiff3, HexEditor, and several other apps whose names I could not recall. At last, the most viable way is still using the vim editor. But the problem was still there: it was painful to look at hex code in that editor.<br /><br />Solution:<br />Adding some configuration in the ~/.vimrc will make everything peace and clean:)<br /><br /><code><br />" vim -b : edit binary using xxd-format!<br />augroup Binary<br />au!<br />au BufReadPre  *.bin let &amp;bin=1<br />au BufReadPost *.bin if &amp;bin | %!xxd<br />au BufReadPost *.bin set ft=xxd | endif<br />au BufWritePre *.bin if &amp;bin | %!xxd -r<br />au BufWritePre *.bin endif<br />au BufWritePost *.bin if &amp;bin | %!xxd<br />au BufWritePost *.bin set nomod | endif<br />augroup END<br /><code></code></code><br /><br />Note that this configuration only works with the file with .bin extension, which is already enough for me to hack into the targeting files:) Check the reference #1 for further reading of more general hex file editing.<br /><br />cheers:)<br /><br />References:<br />1) <a href="http://vim.wikia.com/wiki/Improved_hex_editing">Improve hex editing</a><br />2) <a href="http://www.tuxfiles.org/linuxhelp/vimcheat.html">Vim commands cheat sheet</a></div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/15/more-freedom-in-doing-things/">More freedom in doing things</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/10/reading-note-of-sicp-4/">Reading note of SICP (4)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/08/reading-note-of-sicp-3/">Reading note of SICP (3)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/07/reading-note-of-sicp-2/">Reading note of SICP (2)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/06/reading-digest-sicp/">Reading note of SICP</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a href="https://github.com/creasyw">Qiong Wu</a> &copy;2009-2013 &mdash;
  <span class="credit">Thanks to <a href="http://ayyang.com">Alex Yang</a>, <a href="http://octopress.org/">Octopress</a> and <a href="https://github.com/">Github</a>.</span><br>
  send me an email 
<script type="text/javascript">
var emailriddlerarray=[99,114,101,97,115,121,119,117,113,105,111,110,103,64,103,109,97,105,108,46,99,111,109]
var encryptedemail_id82='' //variable to contain encrypted email 
for (var i=0; i<emailriddlerarray.length; i++)
 encryptedemail_id82+=String.fromCharCode(emailriddlerarray[i])
 document.write('<a href="mailto:'+encryptedemail_id82+'"><img src="/img/email.png" alt="Qiong" /></a>')
</script>
</p>
</footer>
</body>
</html>
